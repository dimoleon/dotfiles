# New sway Config

set {
    $super  Mod4
    $alt    Mod1
    $left   h
    $down   j
    $up     k
    $right  l
}

set {
    $ws1 1 
    $ws2 2
    $ws3 3
    $ws4 4
    $ws5 5
    $ws6 6
    $ws7 7
    $ws8 8
    $ws9 9 
    $ws10 10
}

set {
    $term kitty
    $resize_factor  40px
    $session_mode   "Session"
}

input "type:keyboard" {           
    xkb_layout us,gr
    xkb_options grp:alt_shift_toggle,caps:swapescape
    xkb_numlock enable
}

input "type:touchpad" {
    tap             enabled
    natural_scroll  enabled
    accel_profile   "adaptive"
    pointer_accel   0.2
}

floating_modifier $super normal 

bindsym --to-code {
    $super+$left   focus left
    $super+$down   focus down
    $super+$up     focus up
    $super+$right  focus right
}

# Resize
bindsym --to-code {
    $super+Control+$left   resize shrink width $resize_factor
    $super+Control+$down   resize shrink height $resize_factor
    $super+Control+$up     resize grow height $resize_factor
    $super+Control+$right  resize grow width $resize_factor
}

bindsym {
    $super+1    workspace $ws1
    $super+2    workspace $ws2
    $super+3    workspace $ws3
    $super+4    workspace $ws4
    $super+5    workspace $ws5
    $super+6    workspace $ws6
    $super+7    workspace $ws7
    $super+8    workspace $ws8
    $super+9    workspace $ws9
    $super+0    workspace $ws10
    $super+tab  workspace back_and_forth
}

bindsym {
    $super+Shift+1  move container to workspace $ws1
    $super+Shift+2  move container to workspace $ws2
    $super+Shift+3  move container to workspace $ws3
    $super+Shift+4  move container to workspace $ws4
    $super+Shift+5  move container to workspace $ws5
    $super+Shift+6  move container to workspace $ws6
    $super+Shift+7  move container to workspace $ws7
    $super+Shift+8  move container to workspace $ws8
    $super+Shift+9  move container to workspace $ws9
    $super+Shift+0  move container to workspace $ws10
}

bindsym --to-code {
    $super+x            kill
    $super+f            fullscreen
    $super+Shift+space  floating toggle
    $super+space        focus mode_toggle
    $super+colon        scratchpad show
    $super+comma        sticky toggle 
    $super+apostrophe   move scratchpad
}

bindsym --to-code {
    $super+b  splith
    $super+v  splitv
    $super+w  layout tabbed
#    $super+s  layout stacking
    $super+e  layout toggle split
}

bindsym --locked {
    XF86AudioMute exec pactl set-sink-mute @DEFAULT_SINK@ toggle
    XF86AudioLowerVolume exec pactl set-sink-volume @DEFAULT_SINK@ -5%
    XF86AudioRaiseVolume exec pactl set-sink-volume @DEFAULT_SINK@ +5%
}

bindsym --locked {
    XF86MonBrightnessDown exec brightnessctl set 5%-
    XF86MonBrightnessUp exec brightnessctl set +5%
#    XF86MonBrightnessUp    exec light -A 5
#    XF86MonBrightnessDown  exec light -U 5
}

bindsym --to-code {
    $super+period   exec $menu wofi --show drun -I -i
    $super+Return   exec kitty    
    $super+r        exec kitty -e ranger
    Print exec grim $(xdg-user-dir PICTURES)/$(date +'%screenshot_%d-%m%y-%H:%M.png') 
    $alt+Print exec grim -g "$(slurp)" $(xdg-user-dir PICTURES)/$(date +'screenshot_%d-%m%y-%H:%M.png')
}

bindsym --to-code $super+s  mode $session_mode

mode $session_mode bindsym --to-code {
    r       reload, mode "default"
    q       exec swaymsg exit, mode "default"
    s       exec systemctl suspend, mode "default"
    c       exec swaylock, mode "default"
    escape  mode "default"
}

exec swayidle -w \
     timeout 300  'swaylock' \
     timeout 480  'swaymsg "output * dpms off"' \
	  resume  'swaymsg "output * dpms on"' \
     timeout 1020 'systemctl suspend' \
     before-sleep 'swaylock'

exec_always wlsunset -l 40.6 -L 22.9
exec --no-startup-id /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1
exec nm-applet --indicator 
exec eval $(gnome-keyring-daemon --start)
exec export SSH_AUTH_SOCK

include /etc/sway/config.d/*
include rules
include visuals
include colorschemes/solarized
